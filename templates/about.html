<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Scholar - System Information</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        .info-section { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .info-section h2 { margin-top: 0; color: #333; }
        .provider-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
        .provider-card { background: white; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
        .provider-card h4 { margin-top: 0; color: #28a745; }
        .feature-list { list-style-type: none; padding: 0; }
        .feature-list li { background: #e9ecef; padding: 10px; margin-bottom: 5px; border-radius: 4px; }
        .feature-list li:before { content: "✅ "; color: #28a745; font-weight: bold; }
        .btn { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; text-decoration: none; display: inline-block; }
        .btn:hover { background: #0056b3; }
        .architecture-diagram { background: white; padding: 20px; border: 2px solid #007bff; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔧 AI Scholar - System Information</h1>
        
        <div class="info-section">
            <h2>🏗️ Architecture Overview</h2>
            <div class="architecture-diagram">
                <h3>{{ system_info.architecture }}</h3>
                <p>The AI Scholar system now uses a professional enterprise-grade architecture with clear separation of concerns:</p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; overflow-x: auto;">
Controllers/     📱 HTTP request handling and routing
├── SearchController    - REST API for search operations
├── PaperController     - Paper aggregation and ranking APIs  
├── WebController       - Traditional web UI routes
└── ControllerRegistry  - Dependency injection management

Services/        ⚙️ Business logic layer
├── SearchService       - Paper search operations
├── PaperService        - Aggregation and ranking logic
├── AIService          - AI operations and insights
└── ServiceFactory     - Service dependency management

Providers/       📡 External API integrations
├── Search/            - arXiv, Semantic Scholar, CrossRef, CORE
├── AI/               - Gemini, OpenRouter with quota management
├── Cache/            - Caching layer (TODO)
└── ProviderRegistry  - Provider lifecycle management

Models/          📄 Data structures and validation
├── Paper              - Paper data model
├── SearchRequest      - Request DTOs
├── SearchResult       - Response DTOs  
└── Database          - User, SearchHistory models

Interfaces/      🔌 Abstract contracts
├── ISearchProvider    - Search provider contract
├── IAIProvider       - AI provider contract
├── ICacheProvider    - Cache provider contract
└── IRankingProvider  - Ranking provider contract
                </pre>
            </div>
        </div>
        
        <div class="info-section">
            <h2>📡 Active Providers</h2>
            <div class="provider-grid">
                <div class="provider-card">
                    <h4>Search Providers ({{ system_info.search_providers|length }})</h4>
                    {% for provider in system_info.search_providers %}
                    <p>✅ {{ provider.title() }}</p>
                    {% endfor %}
                </div>
                
                <div class="provider-card">
                    <h4>AI Providers ({{ system_info.ai_providers|length }})</h4>
                    {% for provider in system_info.ai_providers %}
                    <p>✅ {{ provider }}</p>
                    {% endfor %}
                </div>
                
                <div class="provider-card">
                    <h4>Active Services ({{ system_info.services|length }})</h4>
                    {% for service in system_info.services %}
                    <p>⚙️ {{ service.title() }}Service</p>
                    {% endfor %}
                </div>
            </div>
        </div>
        
        <div class="info-section">
            <h2>🚀 System Features</h2>
            <ul class="feature-list">
                {% for feature in system_info.features %}
                <li>{{ feature }}</li>
                {% endfor %}
            </ul>
        </div>
        
        <div class="info-section">
            <h2>🔗 API Endpoints</h2>
            <div style="background: white; padding: 15px; border-radius: 4px;">
                <h4>REST API Endpoints:</h4>
                <ul>
                    <li><code>POST /search/api</code> - Search papers with single provider</li>
                    <li><code>GET /search/history</code> - Get user search history</li>
                    <li><code>POST /papers/aggregate</code> - Aggregate and rank papers from multiple providers</li>
                    <li><code>POST /papers/rank</code> - Rank existing papers using AI</li>
                    <li><code>POST /papers/compare</code> - Compare multiple papers</li>
                </ul>
                
                <h4>Web Interface:</h4>
                <ul>
                    <li><code>GET /</code> - Main search interface (new architecture)</li>
                    <li><code>GET /search</code> - Advanced search page</li>
                    <li><code>GET /about</code> - System information (this page)</li>
                    <li><code>GET /legacy/</code> - Legacy interface (backward compatibility)</li>
                </ul>
            </div>
        </div>
        
        <div class="info-section">
            <h2>🔄 Migration Status</h2>
            <div style="background: white; padding: 15px; border-radius: 4px;">
                <p>✅ <strong>Phase 1:</strong> Provider Migration - Complete</p>
                <p>✅ <strong>Phase 2:</strong> Service Integration - Complete</p>
                <p>✅ <strong>Phase 3:</strong> AI Provider Configuration - Complete</p>
                <p>✅ <strong>Phase 4:</strong> Search Provider Migration - Complete</p>
                <p>🔄 <strong>Phase 5:</strong> Web Controller Integration - In Progress</p>
                <p>📋 <strong>Phase 6:</strong> Legacy Code Cleanup - Pending</p>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <a href="/" class="btn">🔍 Back to Search</a>
            <a href="/legacy/" class="btn" style="background: #6c757d;">📚 Legacy Interface</a>
        </div>
    </div>
</body>
</html>
